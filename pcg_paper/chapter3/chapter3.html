<h1>3  A Procedural Framework</h1>

<p>Procedural techniques use a variety of different methods for generating new content depending on the nature of the desired content. However, the common characteristics shared between techniques have not been sufficiently explored. Consequently, there are no widely accepted patterns or best practices for the development of new procedural techniques. Our research builds on the ideas of Roden and Parberry to present a process for procedurally generating spatial content and then apply that process to two specific problem domains. The techniques presented in the paper use the concepts of pipeline stages or steps presented by Roden and Parberry [2004].</p>

<p>We propose a specific set of steps and representations that lend themselves well to the generation of certain types of content. The first step consists of a set of rules in the form of a context-free grammar. These rules are then iterated to produce a graph representation of the content. In the second step, the nodes and edges of the graph are expanded to a corresponding spatial representation. This two-step process is most effective in the case of spatial content. We apply this process to the creation of house floorplans and video game maps and suggest other problem domains that have similar characteristics.</p>

<p>The graph representation of the content should be constructed such that the nodes encode types of elements and the edges encode a relationship between the elements. Only relative size or position should be encoded in the nodes and edges respectively. The ruleset should consist of human readable rules that control the generation of the graph. However, a ruleset alone suffers from a lack of global state; each rule is applied locally to the part of the graph that is currently being explored. The technique uses a statistics object to maintain a concept of global state and rules can check the conditions of the global state before being applied. This is similar to the conditional check in CGA Shape [Muller et al 2006]. The purpose of the first step is to concentrate on capturing the relationships between elements without worrying about absolute spatial positioning or potential difficulties arising therefrom.</p>

<p>The second step focuses on the expansion of the graph representation into an actual physical representation suitable for eventual display. It is during this step that absolute sizes and positions of the elements are determined. There are many different algorithms that could be used during this step due to the fact that each algorithm would have to be specific to the kinds of content that are created. The floorplan and map techniques will describe two algorithms for this step in detail and further methods will be explored in the discussion section.</p>

<p>The primary advantage of this two-step process is that it partitions the problem to make it more manageable. The first step solves the problem of the relationship between entities without considering the exact spatial layout. The second step solves the problem of the spatial layout without considering the relationships between entities. We assume that if a model of the relationships can be constructed in the first step then a solution to the spatial layout problem can be discovered during the second step. Additionally, the two steps can function independently as long as a well-defined interface exists for the data structure to be passed between step one and step two. From our own experience, this partitioning of the problem space has shown to be more tractable than tackling both problems together.</p>